({480:function(){var e=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{f(i.next(e))}catch(e){o(e)}}function a(e){try{f(i.throw(e))}catch(e){o(e)}}function f(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}f((i=i.apply(e,t||[])).next())}))};function t(t){return e(this,void 0,void 0,(function*(){yield figma.loadFontAsync(t)}))}function n(e){let t=e.parent;for(;t&&"PAGE"!==t.type;){if("COMPONENT"===t.type||"COMPONENT_SET"===t.type)return!0;t=t.parent}return!1}function i(e,t,n){const i=e.height;e.textAutoResize="HEIGHT",e.height>i?function(e,t,n){for(var i=e.height;i>t;){if("number"==typeof e.fontSize){if(void 0!==n&&e.fontSize<=n)break;e.fontSize-=.5}i=e.height}}(e,i,t):function(e,t,n){for(var i=e.height,s=!1;i<t;){if("number"==typeof e.fontSize){if(void 0!==n&&e.fontSize>=n){s=!0;break}e.fontSize+=.5}i=e.height}s||"number"!=typeof e.fontSize||(e.fontSize-=.5)}(e,i,n),e.textAutoResize="NONE",e.resize(e.width,i)}figma.showUI(__html__,{width:320,height:560}),figma.ui.onmessage=s=>{const o=null!==s.minFontSize?s.minFontSize:void 0,r=null!==s.maxFontSize?s.maxFontSize:void 0;if("selection"===s.type){const n=figma.currentPage.selection,s=n.filter((e=>"TEXT"===e.type)).length;let a=0;figma.ui.postMessage({type:"progress-update",percent:0,status:`Processing 0/${s} text elements...`}),(()=>{e(this,void 0,void 0,(function*(){for(const e of n)if("TEXT"===e.type){yield t(e.fontName),i(e,o,r),a++;const n=Math.round(a/s*100);figma.ui.postMessage({type:"progress-update",percent:n,status:`Processing ${a}/${s} text elements...`})}figma.ui.postMessage({type:"progress-update",percent:100,status:`Completed! Processed ${a} text elements.`})}))})()}else if("text"===s.type){const a=s.textIds.split(","),f=figma.currentPage.findAll((e=>"TEXT"===e.type&&a.includes(e.name))).filter((e=>!n(e))),p=f.length;let u=0;figma.ui.postMessage({type:"progress-update",percent:0,status:`Processing 0/${p} text elements...`}),(()=>{e(this,void 0,void 0,(function*(){for(const e of f)if("TEXT"===e.type){yield t(e.fontName),i(e,o,r),u++;const n=Math.round(u/p*100);figma.ui.postMessage({type:"progress-update",percent:n,status:`Processing ${u}/${p} text elements...`})}figma.ui.postMessage({type:"progress-update",percent:100,status:`Completed! Processed ${u} text elements.`})}))})()}else if("list-select"===s.type){const o=s.presets;let r=0,a=0,f=0;for(const e of o){const t=e.name,i=figma.currentPage.findAll((e=>"TEXT"===e.type&&e.name===t)).filter((e=>!n(e)));r+=i.length}figma.ui.postMessage({type:"progress-update",percent:0,status:`Processing item 1/${o.length}: 0/${r} text elements...`}),(()=>{e(this,void 0,void 0,(function*(){for(const e of o){f++;const s=e.name,p=null!==e.minFontSize?e.minFontSize:void 0,u=null!==e.maxFontSize?e.maxFontSize:void 0,c=figma.currentPage.findAll((e=>"TEXT"===e.type&&e.name===s)).filter((e=>!n(e)));for(const e of c)if("TEXT"===e.type){yield t(e.fontName),i(e,p,u),a++;const n=Math.round(a/r*100);figma.ui.postMessage({type:"progress-update",percent:n,status:`Processing item ${f}/${o.length}: ${a}/${r} text elements...`})}}figma.ui.postMessage({type:"progress-update",percent:100,status:`Completed! Processed ${a} text elements from list.`}),figma.notify(`Processed ${a} text elements from list`)}))})()}else"cancel"===s.type&&figma.closePlugin()}}})[480]();