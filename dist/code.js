({480:function(){var e=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{a(i.next(e))}catch(e){o(e)}}function f(e){try{a(i.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,f)}a((i=i.apply(e,t||[])).next())}))};function t(t){return e(this,void 0,void 0,(function*(){yield figma.loadFontAsync(t)}))}function n(e){let t=e.parent;for(;t&&"PAGE"!==t.type;){if("COMPONENT"===t.type||"COMPONENT_SET"===t.type)return!0;t=t.parent}return!1}function i(e){let t=e;for(;t&&"PAGE"!==t.type;){if("visible"in t&&!t.visible)return!1;t=t.parent}return!0}function s(e,t,n){const i=e.height;e.textAutoResize="HEIGHT",e.height>i?function(e,t,n){for(var i=e.height;i>t;){if("number"==typeof e.fontSize){if(void 0!==n&&e.fontSize<=n)break;e.fontSize-=.5}i=e.height}}(e,i,t):function(e,t,n){for(var i=e.height,s=!1;i<t;){if("number"==typeof e.fontSize){if(void 0!==n&&e.fontSize>=n){s=!0;break}e.fontSize+=.5}i=e.height}s||"number"!=typeof e.fontSize||(e.fontSize-=.5)}(e,i,n),e.textAutoResize="NONE",e.resize(e.width,i)}figma.showUI(__html__,{width:320,height:560}),figma.ui.onmessage=o=>{const r=null!==o.minFontSize?o.minFontSize:void 0,f=null!==o.maxFontSize?o.maxFontSize:void 0,a=o.onlyVisible||!1;if("selection"===o.type){let n=figma.currentPage.selection;a&&(n=n.filter((e=>i(e))));const o=n.filter((e=>"TEXT"===e.type)).length;let l=0;figma.ui.postMessage({type:"progress-update",percent:0,status:`Processing 0/${o} text elements...`}),(()=>{e(this,void 0,void 0,(function*(){for(const e of n)if("TEXT"===e.type){yield t(e.fontName),s(e,r,f),l++;const n=Math.round(l/o*100);figma.ui.postMessage({type:"progress-update",percent:n,status:`Processing ${l}/${o} text elements...`})}figma.ui.postMessage({type:"progress-update",percent:100,status:`Completed! Processed ${l} text elements.`})}))})()}else if("text"===o.type){const l=o.textIds.split(",");let p=figma.currentPage.findAll((e=>"TEXT"===e.type&&l.includes(e.name))).filter((e=>!n(e)));a&&(p=p.filter((e=>i(e))));const u=p.length;let c=0;figma.ui.postMessage({type:"progress-update",percent:0,status:`Processing 0/${u} text elements...`}),(()=>{e(this,void 0,void 0,(function*(){for(const e of p)if("TEXT"===e.type){yield t(e.fontName),s(e,r,f),c++;const n=Math.round(c/u*100);figma.ui.postMessage({type:"progress-update",percent:n,status:`Processing ${c}/${u} text elements...`})}figma.ui.postMessage({type:"progress-update",percent:100,status:`Completed! Processed ${c} text elements.`})}))})()}else if("list-select"===o.type){const r=o.presets;let f=0,l=0,p=0;for(const e of r){const t=e.name;let s=figma.currentPage.findAll((e=>"TEXT"===e.type&&e.name===t)).filter((e=>!n(e)));a&&(s=s.filter((e=>i(e)))),f+=s.length}figma.ui.postMessage({type:"progress-update",percent:0,status:`Processing item 1/${r.length}: 0/${f} text elements...`}),(()=>{e(this,void 0,void 0,(function*(){for(const e of r){p++;const o=e.name,u=null!==e.minFontSize?e.minFontSize:void 0,c=null!==e.maxFontSize?e.maxFontSize:void 0;let g=figma.currentPage.findAll((e=>"TEXT"===e.type&&e.name===o)).filter((e=>!n(e)));a&&(g=g.filter((e=>i(e))));for(const e of g)if("TEXT"===e.type){yield t(e.fontName),s(e,u,c),l++;const n=Math.round(l/f*100);figma.ui.postMessage({type:"progress-update",percent:n,status:`Processing item ${p}/${r.length}: ${l}/${f} text elements...`})}}figma.ui.postMessage({type:"progress-update",percent:100,status:`Completed! Processed ${l} text elements from list.`}),figma.notify(`Processed ${l} text elements from list`)}))})()}else"cancel"===o.type&&figma.closePlugin()}}})[480]();