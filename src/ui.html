<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>

<div class="titleblock">
  <h2>Auto Text Scaler</h2>
</div>
<hr />

<div class="form-check">
  <input class="form-check-input" type="radio" name="autoresizeoptions" id="selection" checked />
  <label class="form-check-label" for="selection">
    Selection
  </label>
</div>
<div class="form-check">
  <input class="form-check-input textbox" type="radio" name="autoresizeoptions" id="text" /> 
  <label class="form-check-label" for="text">
    Textbox Names
  </label>
  <input class="form-control ids" type="text" id="ids" placeholder="Textbox Names" />
</div>

<hr />
<div class="font-size-constraints">
  <h4>Font Size Constraints (Optional)</h4>
  <div class="form-group">
    <label for="minFontSize">Minimum Font Size (pt)</label>
    <input class="form-control" type="number" id="minFontSize" placeholder="Min Font Size" min="0" step="0.5" />
  </div>
  <div class="form-group">
    <label for="maxFontSize">Maximum Font Size (pt)</label>
    <input class="form-control" type="number" id="maxFontSize" placeholder="Max Font Size" min="0" step="0.5" />
  </div>
</div>

<div class="buttons">
  <button class="btn btn-primary btn-lg" id="resize">Resize</button>
  <button class="btn btn-secondary btn-lg" id="cancel">Cancel</button>
</div>

<script>
document.getElementById('resize').onclick = () => {
    const resizeType = document.querySelector('input[name="autoresizeoptions"]:checked').id;
    const textIds = document.getElementById('ids').value;
    const minFontSize = parseFloat(document.getElementById('minFontSize').value) || null;
    const maxFontSize = parseFloat(document.getElementById('maxFontSize').value) || null;
    parent.postMessage({ pluginMessage: { 
        type: resizeType, 
        textIds: textIds,
        minFontSize: minFontSize,
        maxFontSize: maxFontSize
    } }, '*')
}
    
document.getElementById('cancel').onclick = () => {
    parent.postMessage({ pluginMessage: { type: 'cancel' } }, '*')
}

</script>
